{% extends "base.html" %}

{% block head %}
  <link rel="stylesheet" href="{{ url_for('todo_mvc.static', filename='todomvc-common/base.css') }}">
  <link rel="stylesheet" href="{{ url_for('todo_mvc.static', filename='todomvc-app-css/index.css') }}">
{% endblock %}

{% block main %}
  <section id="todoapp" class="todoapp" data-ajt-mode="replaceContent">
    <header class="header">
      <h1>todos</h1>
      {% include 'todo_form.html' %}
    </header>
    <!-- This section should be hidden by default and shown when there are todos -->
    {% if todos %}
      <section class="main">
        <form method="post"
              onsubmit="ajt(event)">
          <input id="toggle-all" class="toggle-all" type="checkbox">
          <label for="toggle-all">Mark all as complete</label>
          {% include 'todo_list.html' %}
        </form>
      </section>
      <!-- This footer should be hidden by default and shown when there are todos -->
      <footer class="footer">
        <!-- This should be `0 items left` by default -->
        {% include 'todo_count.html' %}
        <!-- Remove this if you don't implement routing -->
        {% include 'filters.html' %}
        <!-- Hidden if no completed items are left ↓ -->
        <button class="clear-completed">Clear completed</button>
      </footer>
    {% endif %}
  </section>
  <footer class="info">
    <p>Double-click to edit a todo</p>
    <!-- Remove the below line ↓ -->
    <p>Template by <a href="http://sindresorhus.com">Sindre Sorhus</a></p>
    <!-- Change this out with your name and url ↓ -->
    <p>Created by <a href="http://todomvc.com">you</a></p>
    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
  </footer>

  <div data-ajt-target="body" data-ajt-mode="appendContent">
    <script>
      window.history.replaceState(null, null, '{{ url_for('.index', state=state, _external=True) }}')
    </script>
  </div>
{% endblock %}
